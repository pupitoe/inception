server {
	listen			443 ssl default_server;
	listen			[::]:443 ssl;
	ssl_certificate	./certif/fuck.crt;
	ssl_certificate_key ./certif/fuck.key;
	ssl_protocols       TLSv1.2 TLSv1.3;

	# virtual server name i.e. domain name #
	server_name tlassere.42.fr;

	root	/home/www;

	# le =404 permet de dire que s'il na pas trouver l'url il vas chercher le 404
	location / {
		try_files	$uri $uri/ uri.html $uri.php;
	}

	location = / {
		index	index.html;
	}

	error_page	404 500 502 503 504 /404.html;
	# log files
	access_log  /var/log/nginx/access.log;
	error_log   /var/log/nginx/error.log;

	location ~ \.php$ {
		#include fastcgi.conf;
		try_files	$uri =404;
		include fastcgi_params;
		fastcgi_split_path_info ^(.+\.php)(/.+)$;
		fastcgi_pass wordpress:6969;
		#fastcgi_pass localhost:9000;
		fastcgi_index index.php;
		#fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
		fastcgi_param DOCUMENT_ROOT     $realpath_root;
        fastcgi_param SCRIPT_FILENAME   $realpath_root$fastcgi_script_name;
    }


	proxy_set_header Host $host;
}
